var mongoose = require("mongoose");
var Visa = mongoose.model("visa");

// Returns information about all countries
var getAllVisas = async (req, res) => {
    try {
        const allVisas = await Visa.find();
        return res.send(allVisas); //return res.render('index', {items: allTasks});
    } catch (err) {
        return res.status(400).send("Database query failed");
    }
};

// Returns information about a specify country
var getVisaById = async (req, res) => {
    const visaId = req.body.id;
    try {
        const visa = await Visa.findById(visaId);
        return res.send(visa);
    } catch (err) {
        return res.status(400).send("Database query failed");
    }
};

module.exports = {
    getAllVisas,
    getVisaById
};
